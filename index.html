<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Feria de Ciencias - Juego Qu√≠mico Interactivo</title>
<style>
*{box-sizing:border-box}
body{
  font-family:Arial,sans-serif;
  margin:0;padding:0;
  color:#fff;
  overflow-x:hidden;
  /* Fondo animado */
  background: linear-gradient(270deg, #0f2027, #203a43, #2c5364);
  background-size: 600% 600%;
  animation: moverFondo 20s ease infinite;
}
@keyframes moverFondo {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

header{
  background:rgba(0,0,0,0.6);
  padding:15px;
  text-align:center;
  box-shadow:0 0 15px rgba(0,255,255,0.5);
}
header h1{
  margin:10px 0;
  font-size:28px;
  text-shadow:0 0 10px cyan;
}

nav{
  background:rgba(0,0,0,0.4);
  display:flex;justify-content:center;flex-wrap:wrap;
  padding:10px;
}
nav button{
  padding:10px 20px;
  border:none;
  background:#007bff;
  color:#fff;
  cursor:pointer;
  font-size:16px;
  margin:5px;
  border-radius:8px;
  transition:all 0.3s ease;
  box-shadow:0 0 10px #007bff;
}
nav button:hover{
  background:#0056b3;
  box-shadow:0 0 20px #00f,0 0 40px #00f;
}
nav button.active{
  background:#00bfff;
}

.contenedor{padding:20px;text-align:center}

.tabla {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 15px;
  justify-content: center;
  max-width: 700px;
  margin: 20px auto;
}
.elemento {
  height: 70px;
}

.elemento{
  background:#111;
  border:2px solid #00ffff;
  padding:10px;
  border-radius:10px;
  cursor:pointer;
  transition:0.3s;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  height:70px;
  word-wrap:break-word;
  overflow-wrap:break-word;
  box-shadow:0 0 8px rgba(0,255,255,0.4);
}
.elemento:hover{background:#222;box-shadow:0 0 20px cyan;}
.correcto{background:green !important;color:#fff;box-shadow:0 0 20px lime;}
.incorrecto{background:red !important;color:#fff;box-shadow:0 0 20px red;}

button#config_btnNueva, button#nom_btnNueva,
button#config_btnReiniciar, button#nom_btnReiniciar{
  margin-top:20px;
  padding:10px 20px;
  background:#00bfff;
  border:none;border-radius:8px;
  color:#fff;
  font-size:16px;
  cursor:pointer;
  transition:0.3s;
  box-shadow:0 0 10px #00bfff;
}
button#config_btnNueva:hover, button#nom_btnNueva:hover,
button#config_btnReiniciar:hover, button#nom_btnReiniciar:hover{
  background:#009acd;
  box-shadow:0 0 25px cyan;
}

.marcador{font-size:18px;margin-top:10px}
.cronometro{font-size:20px;margin-top:10px;color:#ffcc00}
.seccion{display:none}
.seccion.activa{display:block}
@media(max-width:600px){.tabla{grid-template-columns:repeat(2,1fr)}}
.center-row{display:flex;gap:10px;justify-content:center;align-items:center}

/* üåå Decoraci√≥n flotante */
.decoracion{
  position:absolute;
  border-radius:50%;
  background:rgba(0,255,255,0.4);
  animation:flotar 12s infinite ease-in-out;
}
@keyframes flotar{
  0%{transform:translateY(0) scale(1);opacity:0.6;}
  50%{transform:translateY(-120px) scale(1.3);opacity:1;}
  100%{transform:translateY(0) scale(1);opacity:0.6;}
}
</style>
</head>
<body>
<header><h1>üî¨ Juego Qu√≠mico Interactivo ‚öóÔ∏è</h1></header>
<nav>
  <button class="active" onclick="mostrarSeccion('configuracion', this)">Configuraci√≥n Electr√≥nica</button>
  <button onclick="mostrarSeccion('nomenclatura', this)">Nomenclatura</button>
</nav>

<!-- üåå Mol√©culas decorativas -->
<div class="decoracion" style="width:40px;height:40px;top:70%;left:10%;"></div>
<div class="decoracion" style="width:25px;height:25px;top:60%;left:80%;animation-delay:3s;"></div>
<div class="decoracion" style="width:30px;height:30px;top:85%;left:50%;animation-delay:6s;"></div>

<div class="contenedor">
  <!-- Configuraci√≥n Electr√≥nica -->
  <div id="configuracion" class="seccion activa">
    <h2>¬øQu√© elemento tiene esta configuraci√≥n?</h2>
    <p><strong id="config_config">---</strong></p>
    <div class="cronometro">‚è±Ô∏è Tiempo: <span id="config_tiempo">60</span> s</div>
    <div class="marcador">‚úÖ Aciertos: <span id="config_puntos">0</span></div>
    <div class="marcador">‚ù§Ô∏è Oportunidades: <span id="config_vidas">3</span></div>
    <div class="tabla" id="config_tabla"></div>
    <p id="config_resultado"></p>
    <div class="center-row">
      <button id="config_btnNueva" onclick="config_nuevaPregunta()">üîÅ Nueva Pregunta</button>
      <button id="config_btnReiniciar" style="display:none;" onclick="config_reiniciarJuego()">üîÑ Reiniciar Juego</button>
    </div>
  </div>

  <!-- Nomenclatura -->
  <div id="nomenclatura" class="seccion">
    <h2>üß™ Nomenclatura Qu√≠mica</h2>
    <p id="nom_indicacion"><strong id="nom_tipo"></strong></p>
    <p><strong id="nom_formula">---</strong></p>
    <div class="cronometro">‚è±Ô∏è Tiempo: <span id="nom_tiempo">60</span> s</div>
    <div class="marcador">‚úÖ Aciertos: <span id="nom_puntos">0</span></div>
    <div class="marcador">‚ù§Ô∏è Oportunidades: <span id="nom_vidas">3</span></div>
    <div class="tabla" id="nom_tabla"></div>
    <p id="nom_resultado"></p>
    <div class="center-row">
      <button id="nom_btnNueva" onclick="nom_nuevaPregunta()">üîÅ Nueva Pregunta</button>
      <button id="nom_btnReiniciar" style="display:none;" onclick="nom_reiniciarJuego()">üîÑ Reiniciar Juego</button>
    </div>
  </div>
</div>
<script>
/* ====== UTIL ====== */
function mostrarSeccion(id, btn){
  document.querySelectorAll('.seccion').forEach(s=>s.classList.remove('activa'));
  document.getElementById(id).classList.add('activa');
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  if(btn) btn.classList.add('active');
}

/* ====== CONFIGURACI√ìN ELECTR√ìNICA (prefijo config_) ====== */
const config_preguntas = [
  { config: "1s¬π", elemento: "H" }, { config: "1s¬≤", elemento: "He" },
  { config: "1s¬≤ 2s¬π", elemento: "Li" }, { config: "1s¬≤ 2s¬≤", elemento: "Be" },
  { config: "1s¬≤ 2s¬≤ 2p¬π", elemento: "B" }, { config: "1s¬≤ 2s¬≤ 2p¬≤", elemento: "C" },
  { config: "1s¬≤ 2s¬≤ 2p¬≥", elemento: "N" }, { config: "1s¬≤ 2s¬≤ 2p‚Å¥", elemento: "O" },
  { config: "1s¬≤ 2s¬≤ 2p‚Åµ", elemento: "F" }, { config: "1s¬≤ 2s¬≤ 2p‚Å∂", elemento: "Ne" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π", elemento: "Na" }, { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤", elemento: "Mg" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p¬π", elemento: "Al" }, { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p¬≤", elemento: "Si" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p¬≥", elemento: "P" }, { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å¥", elemento: "S" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Åµ", elemento: "Cl" }, { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂", elemento: "Ar" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 4s¬π", elemento: "K" }, { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 4s¬≤", elemento: "Ca" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 3d‚Å∂ 4s¬≤", elemento: "Fe" }, { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 3d¬π‚Å∞ 4s¬π", elemento: "Cu" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 4s¬≤ 3d¬π‚Å∞ 4p¬π", elemento: "Ga" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 3d¬π‚Å∞ 4s¬≤ 4p‚Åµ", elemento: "Br" },
  { config: "1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 4s¬≤ 3d¬π‚Å∞ 4p‚Å∂", elemento: "Kr" }
];

const config_opciones = [
  "H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si",
  "P","S","Cl","Ar","K","Ca","Fe","Cu","Zn","Ga","Ge","As","Se","Br","Kr",
  "Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd"
];

let config_respuestaCorrecta = "";
let config_puntos = 0;
let config_vidas = 3;
let config_tiempo = 60;
let config_cuentaRegresiva = null;
let config_bloqueado = false;

function config_nuevaPregunta(){
  if(config_vidas<=0){
    document.getElementById("config_resultado").innerText = "üíÄ Has perdido todas tus oportunidades.";
    document.getElementById("config_btnReiniciar").style.display = "inline-block";
    return;
  }
  const pregunta = config_preguntas[Math.floor(Math.random()*config_preguntas.length)];
  config_respuestaCorrecta = pregunta.elemento;
  document.getElementById("config_config").innerText = pregunta.config;

  const opcionesMezcladas = [...config_opciones].sort(()=>Math.random()-0.5).slice(0,10);
  if(!opcionesMezcladas.includes(config_respuestaCorrecta)) opcionesMezcladas[Math.floor(Math.random()*10)] = config_respuestaCorrecta;

  const tabla = document.getElementById("config_tabla");
  tabla.innerHTML = "";
  opcionesMezcladas.forEach(simbolo=>{
    const btn = document.createElement("div");
    btn.className = "elemento";
    btn.innerText = simbolo;
    btn.onclick = ()=>config_verificar(btn, simbolo);
    tabla.appendChild(btn);
  });

  document.getElementById("config_resultado").innerText = "";
  config_bloqueado = false;
  config_tiempo = 60;
  document.getElementById("config_tiempo").innerText = config_tiempo;
  document.getElementById("config_puntos").innerText = config_puntos;
  document.getElementById("config_vidas").innerText = config_vidas;
  clearInterval(config_cuentaRegresiva);
  config_cuentaRegresiva = setInterval(()=>{
    config_tiempo--;
    document.getElementById("config_tiempo").innerText = config_tiempo;
    if(config_tiempo===0) config_perderVida("‚è∞ Tiempo agotado. Era " + config_respuestaCorrecta);
  },1000);
}

function config_verificar(boton, seleccion){
  if(config_bloqueado) return;
  if(seleccion===config_respuestaCorrecta){
    boton.classList.add("correcto");
    document.getElementById("config_resultado").innerText = `‚úÖ ¬°Correcto! Es ${config_respuestaCorrecta}.`;
    config_puntos++;
    document.getElementById("config_puntos").innerText = config_puntos;
    clearInterval(config_cuentaRegresiva);
    config_bloquearBotones();
  } else {
    boton.classList.add("incorrecto");
    setTimeout(()=>boton.classList.remove("incorrecto"),700);
    config_perderVida(`‚ùå Incorrecto. Era ${config_respuestaCorrecta}`);
  }
}

function config_perderVida(mensaje){
  clearInterval(config_cuentaRegresiva);
  document.getElementById("config_resultado").innerText = mensaje;
  config_vidas--;
  document.getElementById("config_vidas").innerText = config_vidas;
  if(config_vidas<=0){
    document.getElementById("config_resultado").innerText = "üíÄ Has perdido todas tus oportunidades.";
    document.getElementById("config_btnReiniciar").style.display = "inline-block";
  }
  config_bloquearBotones();
}

function config_bloquearBotones(){
  document.querySelectorAll("#config_tabla .elemento").forEach(btn=>btn.onclick=null);
  config_bloqueado = true;
}

function config_reiniciarJuego(){
  config_puntos = 0;
  config_vidas = 3;
  document.getElementById("config_puntos").innerText = config_puntos;
  document.getElementById("config_vidas").innerText = config_vidas;
  document.getElementById("config_btnReiniciar").style.display = "none";
  config_nuevaPregunta();
}

config_nuevaPregunta();

/* ====== NOMENCLATURA (60 ejemplos) ====== */
const nom_preguntas = [
  // 15 √°cidos (hidr√°cidos y ox√°cidos)
  {formula:"HCl", trad:"√Åcido clorh√≠drico", stock:"Cloruro de hidr√≥geno", sist:"Cloruro de hidr√≥geno"}, 
  {formula:"HF", trad:"√Åcido fluorh√≠drico", stock:"Fluoruro de hidr√≥geno", sist:"Fluoruro de hidr√≥geno"}, 
  {formula:"HBr", trad:"√Åcido bromh√≠drico", stock:"Bromuro de hidr√≥geno", sist:"Bromuro de hidr√≥geno"}, 
  {formula:"HI", trad:"√Åcido yodh√≠drico", stock:"Yoduro de hidr√≥geno", sist:"Yoduro de hidr√≥geno"}, 
  {formula:"H‚ÇÇS", trad:"√Åcido sulfh√≠drico", stock:"Sulfuro de hidr√≥geno", sist:"Sulfuro de hidr√≥geno"}, 
  {formula:"H‚ÇÇSe", trad:"√Åcido selenh√≠drico", stock:"Seleniuro de hidr√≥geno", sist:"Seleniuro de hidr√≥geno"}, 
  {formula:"H‚ÇÇSO‚ÇÑ", trad:"√Åcido sulf√∫rico", stock:"√Åcido tetraoxosulf√∫rico (VI)", sist:"Tetraoxosulfato(VI) de dihidr√≥geno"}, 
  {formula:"H‚ÇÇSO‚ÇÉ", trad:"√Åcido sulfuroso", stock:"√Åcido trioxosulf√∫rico (IV)", sist:"Trioxosulfato(IV) de dihidr√≥geno"}, 
  {formula:"HNO‚ÇÉ", trad:"√Åcido n√≠trico", stock:"√Åcido trioxon√≠trico (V)", sist:"Trioxonitrato(V) de hidr√≥geno"}, 
  {formula:"HNO‚ÇÇ", trad:"√Åcido nitroso", stock:"√Åcido dioxon√≠trico (III)", sist:"Dioxonitrito(III) de hidr√≥geno"}, 
  {formula:"H‚ÇÉPO‚ÇÑ", trad:"√Åcido fosf√≥rico", stock:"√Åcido tetraoxofosf√≥rico (V)", sist:"Tetraoxofosfato(V) de trihidr√≥geno"}, 
  {formula:"H‚ÇÉPO‚ÇÉ", trad:"√Åcido fosforoso", stock:"√Åcido trioxofosf√≥rico (III)", sist:"Trioxofosfato(III) de trihidr√≥geno"}, 
  {formula:"H‚ÇÇCO‚ÇÉ", trad:"√Åcido carb√≥nico", stock:"√Åcido trioxocarbon√≠lico (IV)", sist:"Trioxocarbonato(IV) de dihidr√≥geno"}, 
  {formula:"HClO‚ÇÑ", trad:"√Åcido percl√≥rico", stock:"√Åcido tetraoxocl√≥rico (VII)", sist:"Peroxocloroato de hidr√≥geno"}, 
  {formula:"HClO‚ÇÉ", trad:"√Åcido cl√≥rico", stock:"√Åcido trioxocl√≥rico (V)", sist:"Trioxoclorato(V) de hidr√≥geno"},

  // 15 hidr√≥xidos
  {formula:"NaOH", trad:"Hidr√≥xido de sodio", stock:"Hidr√≥xido de sodio", sist:"Hidr√≥xido de sodio"},
  {formula:"KOH", trad:"Hidr√≥xido de potasio", stock:"Hidr√≥xido de potasio", sist:"Hidr√≥xido de potasio"},
  {formula:"Ca(OH)‚ÇÇ", trad:"Hidr√≥xido de calcio", stock:"Hidr√≥xido de calcio", sist:"Dihidr√≥xido de calcio"},
  {formula:"Mg(OH)‚ÇÇ", trad:"Hidr√≥xido de magnesio", stock:"Hidr√≥xido de magnesio", sist:"Dihidr√≥xido de magnesio"},
  {formula:"Fe(OH)‚ÇÉ", trad:"Hidr√≥xido de hierro (III)", stock:"Hidr√≥xido de hierro (III)", sist:"Trihidr√≥xido de hierro"},
  {formula:"Fe(OH)‚ÇÇ", trad:"Hidr√≥xido de hierro (II)", stock:"Hidr√≥xido de hierro (II)", sist:"Dihidr√≥xido de hierro"},
  {formula:"Al(OH)‚ÇÉ", trad:"Hidr√≥xido de aluminio", stock:"Hidr√≥xido de aluminio", sist:"Trihidr√≥xido de aluminio"},
  {formula:"Zn(OH)‚ÇÇ", trad:"Hidr√≥xido de zinc", stock:"Hidr√≥xido de zinc", sist:"Dihidr√≥xido de zinc"},
  {formula:"Ni(OH)‚ÇÇ", trad:"Hidr√≥xido de n√≠quel (II)", stock:"Hidr√≥xido de n√≠quel (II)", sist:"Dihidr√≥xido de n√≠quel"},
  {formula:"Pb(OH)‚ÇÇ", trad:"Hidr√≥xido de plomo (II)", stock:"Hidr√≥xido de plomo (II)", sist:"Dihidr√≥xido de plomo"},
  {formula:"Ba(OH)‚ÇÇ", trad:"Hidr√≥xido de bario", stock:"Hidr√≥xido de bario", sist:"Dihidr√≥xido de bario"},
  {formula:"Sr(OH)‚ÇÇ", trad:"Hidr√≥xido de estroncio", stock:"Hidr√≥xido de estroncio", sist:"Dihidr√≥xido de estroncio"},
  {formula:"Cu(OH)‚ÇÇ", trad:"Hidr√≥xido de cobre (II)", stock:"Hidr√≥xido de cobre (II)", sist:"Dihidr√≥xido de cobre"},
  {formula:"Hg(OH)‚ÇÇ", trad:"Hidr√≥xido de mercurio (II)", stock:"Hidr√≥xido de mercurio (II)", sist:"Dihidr√≥xido de mercurio"},
  {formula:"Cr(OH)‚ÇÉ", trad:"Hidr√≥xido de cromo (III)", stock:"Hidr√≥xido de cromo (III)", sist:"Trihidr√≥xido de cromo"},

  // 15 √≥xidos
  {formula:"CO‚ÇÇ", trad:"Di√≥xido de carbono", stock:"√ìxido de carbono (IV)", sist:"Di√≥xido de carbono"},
  {formula:"CO", trad:"Mon√≥xido de carbono", stock:"√ìxido de carbono (II)", sist:"Mon√≥xido de carbono"},
  {formula:"SO‚ÇÇ", trad:"Di√≥xido de azufre", stock:"√ìxido de azufre (IV)", sist:"Di√≥xido de azufre"},
  {formula:"SO‚ÇÉ", trad:"Tri√≥xido de azufre", stock:"√ìxido de azufre (VI)", sist:"Tri√≥xido de azufre"},
  {formula:"N‚ÇÇO‚ÇÖ", trad:"Pent√≥xido de dinitr√≥geno", stock:"√ìxido de nitr√≥geno (V)", sist:"Pent√≥xido de dinitr√≥geno"},
  {formula:"N‚ÇÇO‚ÇÉ", trad:"Tri√≥xido de dinitr√≥geno", stock:"√ìxido de nitr√≥geno (III)", sist:"Tri√≥xido de dinitr√≥geno"},
  {formula:"P‚ÇÇO‚ÇÖ", trad:"Pent√≥xido de f√≥sforo", stock:"√ìxido de f√≥sforo (V)", sist:"Pent√≥xido de f√≥sforo"},
  {formula:"P‚ÇÇO‚ÇÉ", trad:"Tri√≥xido de f√≥sforo", stock:"√ìxido de f√≥sforo (III)", sist:"Tri√≥xido de f√≥sforo"},
  {formula:"Fe‚ÇÇO‚ÇÉ", trad:"√ìxido de hierro (III)", stock:"√ìxido de hierro (III)", sist:"Tri√≥xido de dihierro"},
  {formula:"FeO", trad:"√ìxido de hierro (II)", stock:"√ìxido de hierro (II)", sist:"Mon√≥xido de hierro"},
  {formula:"CuO", trad:"√ìxido de cobre (II)", stock:"√ìxido de cobre (II)", sist:"√ìxido de cobre"},
  {formula:"Cu‚ÇÇO", trad:"√ìxido de cobre (I)", stock:"√ìxido de cobre (I)", sist:"Mon√≥xido de dicobre"},
  {formula:"ZnO", trad:"√ìxido de zinc", stock:"√ìxido de zinc", sist:"√ìxido de zinc"},
  {formula:"Al‚ÇÇO‚ÇÉ", trad:"√ìxido de aluminio", stock:"√ìxido de aluminio", sist:"Tri√≥xido de dialuminio"},
  {formula:"CaO", trad:"√ìxido de calcio", stock:"√ìxido de calcio", sist:"√ìxido de calcio"},

  // 15 sales
  {formula:"NaCl", trad:"Cloruro de sodio", stock:"Cloruro de sodio", sist:"Cloruro de sodio"},
  {formula:"KBr", trad:"Bromuro de potasio", stock:"Bromuro de potasio", sist:"Bromuro de potasio"},
  {formula:"CaCO‚ÇÉ", trad:"Carbonato de calcio", stock:"Carbonato de calcio", sist:"Trioxocarbonato de calcio"},
  {formula:"Na‚ÇÇSO‚ÇÑ", trad:"Sulfato de sodio", stock:"Sulfato de sodio", sist:"Tetraoxosulfato de disodio"},
  {formula:"KNO‚ÇÉ", trad:"Nitrato de potasio", stock:"Nitrato de potasio", sist:"Trioxonitrato de potasio"},
  {formula:"MgCl‚ÇÇ", trad:"Cloruro de magnesio", stock:"Cloruro de magnesio", sist:"Cloruro de magnesio"},
  {formula:"BaSO‚ÇÑ", trad:"Sulfato de bario", stock:"Sulfato de bario", sist:"Tetraoxosulfato de bario"},
  {formula:"PbI‚ÇÇ", trad:"Yoduro de plomo (II)", stock:"Yoduro de plomo (II)", sist:"Diyoduro de plomo"},
  {formula:"AgCl", trad:"Cloruro de plata", stock:"Cloruro de plata", sist:"Cloruro de plata"},
  {formula:"Fe‚ÇÇ(SO‚ÇÑ)‚ÇÉ", trad:"Sulfato de hierro (III)", stock:"Sulfato de hierro (III)", sist:"Tetraoxosulfato de trihierro"},
  {formula:"FeSO‚ÇÑ", trad:"Sulfato de hierro (II)", stock:"Sulfato de hierro (II)", sist:"Tetraoxosulfato de hierro (II)"},
  {formula:"Al‚ÇÇ(SO‚ÇÑ)‚ÇÉ", trad:"Sulfato de aluminio", stock:"Sulfato de aluminio", sist:"Tetraoxosulfato de dialuminio"},
  {formula:"CuSO‚ÇÑ", trad:"Sulfato de cobre (II)", stock:"Sulfato de cobre (II)", sist:"Tetraoxosulfato de cobre"},
  {formula:"ZnSO‚ÇÑ", trad:"Sulfato de zinc", stock:"Sulfato de zinc", sist:"Tetraoxosulfato de zinc"},
  {formula:"Na‚ÇÉPO‚ÇÑ", trad:"Fosfato de sodio", stock:"Fosfato de sodio", sist:"Tetraoxofosfato de trisodio"}
];

// Variables de nomenclatura
let nom_respuesta = "";
let nom_puntos = 0;
let nom_vidas = 3;
let nom_tiempo = 60;
let nom_cuentaRegresiva = null;
let nom_bloqueado = false;
let nom_tipoPedido = "";

// iniciar nomenclatura
function nom_nuevaPregunta(){
  if(nom_vidas<=0){
    document.getElementById("nom_resultado").innerText = "üíÄ Has perdido todas tus oportunidades.";
    document.getElementById("nom_btnReiniciar").style.display = "inline-block";
    return;
  }

  const pregunta = nom_preguntas[Math.floor(Math.random()*nom_preguntas.length)];
  const tipos = ["trad","stock","sist"];
  const tipo = tipos[Math.floor(Math.random()*tipos.length)];
  nom_tipoPedido = tipo;
  let tipoTexto = (tipo==="trad")? "Tradicional": (tipo==="stock")? "Stock":"Sistem√°tica/IUPAC";
  document.getElementById("nom_tipo").innerText = `Selecciona el nombre (${tipoTexto})`;
  document.getElementById("nom_formula").innerText = pregunta.formula;
  const correcto = (tipo==="trad")? pregunta.trad : (tipo==="stock")? pregunta.stock : pregunta.sist;
  nom_respuesta = correcto;

  // construir opciones
  const opcionesSet = new Set();
  opcionesSet.add(correcto);
  if(pregunta.trad && pregunta.trad!==correcto) opcionesSet.add(pregunta.trad);
  if(pregunta.stock && pregunta.stock!==correcto) opcionesSet.add(pregunta.stock);
  if(pregunta.sist && pregunta.sist!==correcto) opcionesSet.add(pregunta.sist);

  // todos los nombres
  let allNames = [];
  nom_preguntas.forEach(p=>{ allNames.push(p.trad); allNames.push(p.stock); allNames.push(p.sist); });

  function crearDistractorInventado(formula){
    return "Nombre desconocido de " + formula;
  }

  let opcionesArr = Array.from(opcionesSet);
  while(opcionesArr.length<3){
    const cand = allNames[Math.floor(Math.random()*allNames.length)];
    if(cand && !opcionesArr.includes(cand)) opcionesArr.push(cand);
  }
  opcionesArr.push(crearDistractorInventado(pregunta.formula));
  opcionesArr = opcionesArr.sort(()=>Math.random()-0.5).slice(0,4);

  // renderizar
  const tabla = document.getElementById("nom_tabla");
  tabla.innerHTML = "";
  opcionesArr.forEach(nombre=>{
    const btn = document.createElement("div");
    btn.className = "elemento";
    btn.innerText = nombre;
    btn.onclick = ()=>nom_verificar(btn, nombre);
    tabla.appendChild(btn);
  });

  document.getElementById("nom_resultado").innerText = "";
  nom_bloqueado = false;
  nom_tiempo = 30;
  document.getElementById("nom_tiempo").innerText = nom_tiempo;
  document.getElementById("nom_puntos").innerText = nom_puntos;
  document.getElementById("nom_vidas").innerText = nom_vidas;
  clearInterval(nom_cuentaRegresiva);
  nom_cuentaRegresiva = setInterval(()=>{
    nom_tiempo--;
    document.getElementById("nom_tiempo").innerText = nom_tiempo;
    if(nom_tiempo===0) nom_perderVida("‚è∞ Tiempo agotado. Era " + nom_respuesta);
  },1000);
}

function nom_verificar(boton, seleccion){
  if(nom_bloqueado) return;
  if(seleccion===nom_respuesta){
    boton.classList.add("correcto");
    document.getElementById("nom_resultado").innerText = `‚úÖ ¬°Correcto! Es ${nom_respuesta}.`;
    nom_puntos++;
    document.getElementById("nom_puntos").innerText = nom_puntos;
    clearInterval(nom_cuentaRegresiva);
    nom_bloquearBotones();
  } else {
    boton.classList.add("incorrecto");
    setTimeout(()=>boton.classList.remove("incorrecto"),700);
    nom_perderVida(`‚ùå Incorrecto. Era ${nom_respuesta}`);
  }
}

function nom_perderVida(mensaje){
  clearInterval(nom_cuentaRegresiva);
  document.getElementById("nom_resultado").innerText = mensaje;
  nom_vidas--;
  document.getElementById("nom_vidas").innerText = nom_vidas;
  if(nom_vidas<=0){
    document.getElementById("nom_resultado").innerText = "üíÄ Has perdido todas tus oportunidades.";
    document.getElementById("nom_btnReiniciar").style.display = "inline-block";
  }
  nom_bloquearBotones();
}

function nom_bloquearBotones(){
  document.querySelectorAll("#nom_tabla .elemento").forEach(btn=>btn.onclick=null);
  nom_bloqueado = true;
}

function nom_reiniciarJuego(){
  nom_puntos = 0;
  nom_vidas = 3;
  document.getElementById("nom_puntos").innerText = nom_puntos;
  document.getElementById("nom_vidas").innerText = nom_vidas;
  document.getElementById("nom_btnReiniciar").style.display = "none";
  nom_nuevaPregunta();
}

// iniciar ambos juegos
config_nuevaPregunta();
nom_nuevaPregunta();

</script>
</body>
</html>
